@model Tech_In.Models.ViewModels.ProfileViewModels.UserPicsVM
@*
    For more information on enabling MVC for empty projects, visit http://go.microsoft.com/fwlink/?LinkID=397860
*@
<form enctype="multipart/form-data" asp-action="UpdatePicturesSummaryP">
        <div asp-validation-summary="ModelOnly" class="text-danger"></div>
        <input asp-for="Id" style="display:none;"/>
        <div class="row">
            <div class="col-sm-6 form-group">
                <label asp-for="ProfileImage" class="control-label"></label>
                <input asp-for="ProfileImage" type="file" id="js_ppic" class="form-control" />
                <span asp-validation-for="ProfileImage" class="text-danger"></span>
                <span id="imgError" class="text-danger"></span>
                <img id="pimgprev" src="@Model.PPic" height="150" alt="">
            </div>
            <div class="col-sm-6 form-group">
                <label asp-for="CoverImage" class="control-label"></label>
                <input asp-for="CoverImage" type="file" id="js_cpic" class="form-control" />
                <span asp-validation-for="CoverImage" class="text-danger"></span>
                <span id="imgErrorC" class="text-danger"></span>
                <img id="cimgprev" src="@Model.Cpic" height="150" alt="">
                <div class="form-group">
                    <span class="text-danger">Image height and width should be greater than 400x700 and should not exceed 5Mb.</span>
                </div>
            </div>
        </div>
        <div class="form-group">
            <label asp-for="Summary" class="control-label"></label>
            <textarea maxlength="300" asp-for="Summary" class="fr-form"></textarea>
            <span asp-validation-for="Summary" class="text-danger"></span>
        </div>
        <hr />
        <div class="form-group">
            <button type="submit" class="main-btn">Update Profile</button>
        </div>
</form>


<script>
    $(document).ready(function () {
        $("#js_ppic").change(function () {
            var preview = document.querySelector('#pimgprev');
            var file = document.querySelector('#js_ppic').files[0];
            var reader = new FileReader();

            reader.onloadend = function () {
                preview.src = reader.result;
            }

            if (file) {
                reader.readAsDataURL(file);
            } else {
                preview.src = "";
            }
        });

        $("#js_cpic").change(function () {
            var preview = document.querySelector('#cimgprev');
            var file = document.querySelector('#js_cpic').files[0];
            var reader = new FileReader();

            reader.onloadend = function () {
                preview.src = reader.result;
            }

            if (file) {
                reader.readAsDataURL(file);
            } else {
                preview.src = "";
            }
        });
    });
</script>